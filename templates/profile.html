{% extends "layout.html" %} {% block title %}Profile{% endblock %} {% block
content %}
<div style="max-width: 550px; margin: 0 auto; padding: 0 20px;">
  <!-- Profile Card Header -->
  <div style="text-align: center; margin-bottom: 35px;">
    <div class="profile-avatar" style="width: 110px; height: 110px; margin: 0 auto 20px; background: linear-gradient(135deg, #5c4a3a 0%, #e4b169 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 44px; font-weight: bold; border-radius: 50%;">
      {{ current_user.username[0].upper() }}
    </div>
    <h2 style="margin: 0 0 5px 0; color: #333;">{{ current_user.username }}</h2>
    <p class="profile-bio" style="margin: 0; color: #666;">{{ current_user.course or 'Student' }}</p>
  </div>

  <!-- Edit Profile Form Card -->
  <div style="background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px;">
    <h3 style="margin-top: 0; margin-bottom: 25px; color: #5c4a3a; font-size: 18px;">Edit Profile</h3>
    
    <form method="POST">
      <div class="form-group">
        <label for="username">Username</label>
        <input
          type="text"
          id="username"
          name="username"
          value="{{ current_user.username }}"
          required
        />
      </div>

      <div class="form-group">
        <label for="course">Course / Major</label>
        <input
          type="text"
          id="course"
          name="course"
          value="{{ current_user.course or '' }}"
          placeholder="e.g., Computer Science"
        />
      </div>

      <div class="form-group">
        <label for="bio">Bio</label>
        <textarea 
          id="bio" 
          name="bio" 
          placeholder="Tell us about yourself..."
          style="min-height: 100px; resize: vertical;"
        >{{ current_user.bio }}</textarea>
      </div>

      <div style="display: flex; gap: 10px; margin-top: 25px;">
        <button type="submit" class="btn btn-primary" style="flex: 1;">Save Changes</button>
        <a href="{{ url_for('dashboard') }}" class="btn btn-primary" style="background-color: #6c757d; flex: 1; text-align: center;">Cancel</a>
      </div>
    </form>
  </div>

  <!-- Quick Link -->
  <div style="text-align: center;">
    <p class="text-muted" style="margin: 0;">
      <a href="{{ url_for('public_portfolio', username=current_user.username) }}" target="_blank" class="text-primary" style="font-weight: 600;">View Public Portfolio â†’</a>
    </p>
  </div>
</div>
{% endblock %}
